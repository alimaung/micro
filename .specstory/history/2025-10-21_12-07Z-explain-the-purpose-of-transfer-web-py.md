<!-- Generated by SpecStory -->

<!-- cursor Session 6a8226d4-48c0-4751-8cc7-e05d1163fd2e (2025-10-21 12:07Z) -->

# Explain the purpose of transfer_web.py (2025-10-21 12:07Z)

_**User (2025-10-21 12:06Z)**_

@transfer_web.py explain its purose. only transfer

---

_**Assistant (default)**_

Looking at the `transfer_web.py` file, I can see it's a Flask web application designed for **file transfer operations**. Let me explain its specific purpose:

## Purpose: File Transfer Web Interface

This application provides a web-based interface for transferring folders between different locations in a file system. Here's what it does:

### Core Transfer Functionality:

1. **Folder Discovery**: 
   - Automatically detects folders named "Übergabe_aus_OU" and "Übergabe_aus_DW" in the root directory
   - Lists available folders within these source directories

2. **Folder Transfer**:
   - Copies selected folders from source locations to a target directory
   - Supports both OU (OU folders) and DW (DW folders) transfer types
   - Can transfer multiple folders at once

3. **Safety Features**:
   - After copying, renames the original folders by adding a dot prefix (e.g., `folder` → `.folder`)
   - This prevents accidental re-transfer of the same folders
   - Preserves original data while marking it as "transferred"

### Key Transfer Endpoints:

- **`/transfer`** - Main interface for selecting and transferring folders
- **`/get_folders/<folder_type>`** - Gets available folders for OU or DW types
- **`/transfer` (POST)** - Executes the actual transfer operation

### Additional Features:

The app also includes some non-transfer functionality like PDF analysis and file renaming, but the **core purpose is folder transfer** between:
- Source: `Übergabe_aus_OU` and `Übergabe_aus_DW` directories
- Target: A configurable target directory

This appears to be designed for a workflow where files need to be moved from "handover" directories (Übergabe = handover in German) to a target location, with the originals being marked as processed.

---

_**User (2025-10-21 12:06Z)**_

what is the folder its looking at

---

_**Assistant (default)**_

Looking at the `get_directory_info()` function in the code, here's what folders the application is looking at:

## Directory Structure It's Scanning:

### Root Directory:
- The application looks at the **parent directory** of where the script is located
- If the script is in `.tools/transfer-test/`, it looks at the parent directory (likely the main project folder)

### Source Folders It Searches For:
1. **OU Folders**: Any folder containing "Übergabe_aus_OU" in the name
2. **DW Folders**: Any folder containing "Übergabe_aus_DW" in the name

### Target Directory:
- **Default target**: A folder named "target" in the root directory
- **Path**: `{root_dir}/target`

### What It Does:
```python
# From the code:
root_dir = os.path.dirname(tool_dir)  # Parent of script location
target_dir = os.path.join(root_dir, "target")  # Creates target path

# Searches for:
ou_folder = [folder for folder in root_folders if "Übergabe_aus_OU" in folder]
dw_folder = [folder for folder in root_folders if "Übergabe_aus_DW" in folder]
```

### Example Structure:
```
micro/                          # Root directory
├── .tools/
│   └── transfer-test/
│       └── transfer_web.py     # Script location
├── Übergabe_aus_OU/           # Source folder (OU)
│   ├── folder1/
│   └── folder2/
├── Übergabe_aus_DW/           # Source folder (DW)  
│   ├── folder3/
│   └── folder4/
└── target/                    # Target directory
```

So it's looking at the **main project directory** (`micro/`) for folders with "Übergabe_aus_OU" and "Übergabe_aus_DW" in their names, and uses a "target" folder as the destination for transfers.

---

